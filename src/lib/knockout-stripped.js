/*!
 * Knockout JavaScript library v3.3.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

// !!!!!! PATCHED VERSION v2 !!!!!!
// https://github.com/justlep/knockout-stripped

/**
 * Global setTimeout(..) is not available in the Bitwig context,
 * but it's needed for Knockout's rateLimit extender.
 */
if (typeof setTimeout !== 'function' && typeof host === 'object') {
    setTimeout = function(fn, delay) {
        // println('set timeout ' + delay);
        host.scheduleTask(fn, null, delay);
    };
    clearTimeout = function(){
        throw new Error('clearTimeout is unavailable');
    };
}

(function() {(function(n){var t=this||(0,eval)("this");(function(l){"function"===typeof define&&define.amd?define(["exports","require"],l):"object"===typeof exports&&"object"===typeof module?l(module.exports||exports):l(t.ko={})})(function(l){function u(a,b){return null===a||typeof a in v?a===b:!1}function t(a,b){b&&"change"!==b?"beforeChange"===b?this.la(a):this.R(a,b):this.ma(a)}function w(a,b){null!==b&&b.c&&b.c()}function x(a,b){var d=this.Qa,e=d[f];e.u||(this.ga&&this.U[b]?(d.pa(b,a,this.U[b]),this.U[b]=
null,--this.ga):e.f[b]||d.pa(b,a,e.g?{H:a}:d.Ca(a)))}var b="undefined"!==typeof l?l:{};b.b=function(a,c){for(var d=a.split("."),e=b,g=0;g<d.length-1;g++)e=e[d[g]];e[d[d.length-1]]=c};b.h=function(a,b,d){a[b]=d};b.version="3.3.0";b.b("version",b.version);b.options={deferUpdates:!1,useOnlyNativeEvents:!1};b.a=function(){function a(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function c(a,b){a.__proto__=b;return a}var d={__proto__:[]}instanceof Array,e="function"===typeof Symbol;
return{T:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},A:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Ka:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d))return a[d];return null},qa:function(a,c){var d=b.a.A(a,c);0<d?a.splice(d,1):0===d&&a.shift()},La:function(a){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)0>b.a.A(c,a[d])&&c.push(a[d]);return c},Ma:function(a,
b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d],d));return c},Ja:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;d<e;d++)b(a[d],d)&&c.push(a[d]);return c},Na:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Ia:function(a,c,d){var e=b.a.A(b.a.Aa(a),c);0>e?d&&a.push(c):d||a.splice(e,1)},I:d,extend:a,setPrototypeOf:c,ba:d?c:a,D:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])},ob:function(a,b){if(!a)return a;var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d],d,a));return c},qb:function(a){return null===a||a===n?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},pb:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},Pa:function(a){return b.onError?function(){try{return a.apply(this,arguments)}catch(c){throw b.onError&&b.onError(c),c;}}:a},setTimeout:function(a,c){return setTimeout(b.a.Pa(a),c)},ca:function(a){return b.J(a)?a():a},Aa:function(a){return b.J(a)?
a.i():a},fb:function(a,c){a=b.a.ca(a);c=b.a.ca(c);for(var d=[],e=a;e<=c;e++)d.push(e);return d},nb:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},ta:function(a){return e?Symbol(a):a}}}();b.b("utils",b.a);b.b("utils.arrayForEach",b.a.T);b.b("utils.arrayFirst",b.a.Ka);b.b("utils.arrayFilter",b.a.Ja);b.b("utils.arrayGetDistinctValues",b.a.La);b.b("utils.arrayIndexOf",b.a.A);b.b("utils.arrayMap",b.a.Ma);b.b("utils.arrayPushAll",b.a.Na);b.b("utils.arrayRemoveItem",b.a.qa);b.b("utils.extend",
b.a.extend);b.b("utils.peekObservable",b.a.Aa);b.b("utils.range",b.a.fb);b.b("utils.unwrapObservable",b.a.ca);b.b("utils.objectForEach",b.a.D);b.b("utils.addOrRemoveItem",b.a.Ia);b.b("unwrap",b.a.ca);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return b.apply(a,e)}});b.N={notify:function(a,b){a.equalityComparer=
"always"==b?null:u}};var v={undefined:1,"boolean":1,number:1,string:1};b.b("extenders",b.N);b.Da=function(a,c,d){this.H=a;this.da=c;this.Sa=d;this.u=!1;b.h(this,"dispose",this.c)};b.Da.prototype.c=function(){this.u=!0;this.Sa()};b.s=function(){b.a.ba(this,h);h.ia(this)};var h={ia:function(a){a.j={};a.oa=1},subscribe:function(a,c,d){var e=this;d=d||"change";var g=new b.Da(e,c?a.bind(c):a,function(){b.a.qa(e.j[d],g);e.S&&e.S(d)});e.M&&e.M(d);e.j[d]||(e.j[d]=[]);e.j[d].push(g);return g},notifySubscribers:function(a,
c){c=c||"change";"change"===c&&this.Fa();if(this.Y(c))try{b.B.ra();for(var d=this.j[c].slice(0),e=0,g;g=d[e];++e)g.u||g.da(a)}finally{b.B.end()}},W:function(){return this.oa},Xa:function(a){return this.W()!==a},Fa:function(){++this.oa},za:function(a){var c=this,d=b.J(c),e,g,q;c.R||(c.R=c.notifySubscribers,c.notifySubscribers=t);var f=a(function(){c.na=!1;d&&q===c&&(q=c());e=!1;c.ja(g,q)&&c.R(g=q)});c.ma=function(a){c.na=e=!0;q=a;f()};c.la=function(a){e||(g=a,c.R(a,"beforeChange"))}},Y:function(a){return this.j[a]&&
this.j[a].length},Wa:function(a){if(a)return this.j[a]&&this.j[a].length||0;var c=0;b.a.D(this.j,function(a,b){"dirty"!==a&&(c+=b.length)});return c},ja:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(a){var c=this;a&&b.a.D(a,function(a,e){var g=b.N[a];"function"==typeof g&&(c=g(c,e)||c)});return c}};b.h(h,"subscribe",h.subscribe);b.h(h,"extend",h.extend);b.h(h,"getSubscriptionsCount",h.Wa);b.a.I&&b.a.setPrototypeOf(h,Function.prototype);b.s.fn=h;b.xa=function(a){return null!=
a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};b.b("subscribable",b.s);b.b("isSubscribable",b.xa);b.fa=b.B=function(){function a(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,g=0;return{ra:a,end:c,Ba:function(a){if(e){if(!b.xa(a))throw Error("Only subscribable things can act as dependencies");e.da.call(e.Oa,a,a.Ga||(a.Ga=++g))}},Za:function(b,d,e){try{return a(),b.apply(d,e||[])}finally{c()}},V:function(){if(e)return e.l.V()},ka:function(){if(e)return e.ka}}}();b.b("computedContext",
b.fa);b.b("computedContext.getDependenciesCount",b.fa.V);b.b("computedContext.isInitial",b.fa.ka);b.b("ignoreDependencies",b.mb=b.B.Za);var p=b.a.ta("_latestValue");b.w=function(a){function c(){if(0<arguments.length)return c.ja(c[p],arguments[0])&&(c.G(),c[p]=arguments[0],c.F()),this;b.B.Ba(c);return c[p]}c[p]=a;b.a.I||b.a.extend(c,b.s.fn);b.s.fn.ia(c);b.a.ba(c,k);b.options.deferUpdates&&b.N.deferred(c,!0);return c};var k={equalityComparer:u,i:function(){return this[p]},F:function(){this.notifySubscribers(this[p])},
G:function(){this.notifySubscribers(this[p],"beforeChange")}};b.a.I&&b.a.setPrototypeOf(k,b.s.fn);var r=b.w.Ha="__ko_proto__";k[r]=b.w;b.X=function(a,c){return null===a||a===n||a[r]===n?!1:a[r]===c?!0:b.X(a[r],c)};b.J=function(a){return b.X(a,b.w)};b.ya=function(a){return"function"==typeof a&&a[r]===b.w||"function"==typeof a&&a[r]===b.Ra&&a.Ya?!0:!1};b.b("observable",b.w);b.b("isObservable",b.J);b.b("isWriteableObservable",b.ya);b.b("isWritableObservable",b.ya);b.b("observable.fn",k);b.h(k,"peek",
k.i);b.h(k,"valueHasMutated",k.F);b.h(k,"valueWillMutate",k.G);b.K=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=b.w(a);b.a.ba(a,b.K.fn);return a.extend({trackArrayChanges:!0})};b.K.fn={remove:function(a){for(var c=this.i(),d=[],e="function"!=typeof a||b.J(a)?function(b){return b===a}:a,g=0;g<c.length;g++){var f=c[g];e(f)&&(0===d.length&&this.G(),d.push(f),c.splice(g,1),
g--)}d.length&&this.F();return d},removeAll:function(a){if(a===n){var c=this.i(),d=c.slice(0);this.G();c.splice(0,c.length);this.F();return d}return a?this.remove(function(c){return 0<=b.a.A(a,c)}):[]},destroy:function(a){var c=this.i(),d="function"!=typeof a||b.J(a)?function(b){return b===a}:a;this.G();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.F()},destroyAll:function(a){return a===n?this.destroy(function(){return!0}):a?this.destroy(function(c){return 0<=b.a.A(a,c)}):[]},indexOf:function(a){var c=
this();return b.a.A(c,a)},replace:function(a,b){var d=this.indexOf(a);0<=d&&(this.G(),this.i()[d]=b,this.F())}};b.a.I&&b.a.setPrototypeOf(b.K.fn,b.w.fn);b.a.T("pop push reverse shift sort splice unshift".split(" "),function(a){b.K.fn[a]=function(){var b=this.i();this.G();this.sa(b,a,arguments);var d=b[a].apply(b,arguments);this.F();return d===b?this:d}});b.a.T(["slice"],function(a){b.K.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});b.b("observableArray",b.K);b.N.trackArrayChanges=
function(a,c){function d(){if(!e){e=!0;var c=a.notifySubscribers;a.notifySubscribers=function(a,b){b&&"change"!==b||++m;return c.apply(this,arguments)};var d=[].concat(a.i()||[]);g=null;f=a.subscribe(function(c){c=[].concat(c||[]);if(a.Y("arrayChange")){var e;if(!g||1<m)g=b.a.jb(d,c,a.ea);e=g}d=c;g=null;m=0;e&&e.length&&a.notifySubscribers(e,"arrayChange")})}}a.ea={};c&&"object"==typeof c&&b.a.extend(a.ea,c);a.ea.sparse=!0;if(!a.sa){var e=!1,g=null,f,m=0,h=a.M,k=a.S;a.M=function(b){h&&h.call(a,b);
"arrayChange"===b&&d()};a.S=function(b){k&&k.call(a,b);"arrayChange"!==b||a.Y("arrayChange")||(f.c(),e=!1)};a.sa=function(a,c,d){function f(a,b,c){return q[q.length]={status:a,value:b,index:c}}if(e&&!m){var q=[],h=a.length,k=d.length,l=0;switch(c){case "push":l=h;case "unshift":for(c=0;c<k;c++)f("added",d[c],l+c);break;case "pop":l=h-1;case "shift":h&&f("deleted",a[l],l);break;case "splice":c=Math.min(Math.max(0,0>d[0]?h+d[0]:d[0]),h);for(var h=1===k?h:Math.min(c+(d[1]||0),h),k=c+k-2,l=Math.max(h,
k),n=[],p=[],r=2;c<l;++c,++r)c<h&&p.push(f("deleted",a[c],c)),c<k&&n.push(f("added",d[r],c));b.a.lb(p,n);break;default:return}g=q}}}};var f=b.a.ta("_state");b.l=b.Ra=function(a,c,d){function e(){if(0<arguments.length){if("function"===typeof g)g.apply(h.ha,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}b.B.Ba(e);(h.v||h.g&&e.Z())&&e.C();return h.o}"object"===typeof a?
d=a:(d=d||{},a&&(d.read=a));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var g=d.write,h={o:n,v:!0,$:!1,Ea:!1,u:!1,aa:!1,g:!1,gb:d.read,ha:c||d.owner,Ta:null,ua:d.disposeWhen||d.ua,kb:null,f:{},m:0,wa:null};e[f]=h;e.Ya="function"===typeof g;b.a.I||b.a.extend(e,b.s.fn);b.s.fn.ia(e);b.a.ba(e,m);d.pure?(h.aa=!0,h.g=!0,b.a.extend(e,y)):d.deferEvaluation&&b.a.extend(e,z);b.options.deferUpdates&&b.N.deferred(e,!0);h.g||d.deferEvaluation||e.C();return e};
var m={equalityComparer:u,V:function(){return this[f].m},pa:function(a,b,d){if(this[f].aa&&b===this)throw Error("A 'pure' computed must not be called recursively");this[f].f[a]=d;d.P=this[f].m++;d.L=b.W()},Z:function(){var a,b,d=this[f].f;for(a in d)if(d.hasOwnProperty(a)&&(b=d[a],b.H.Xa(b.L)))return!0},cb:function(){this.O&&!this[f].$&&this.O()},$a:function(){return this[f].v||0<this[f].m},hb:function(){this.na||this.va()},Ca:function(a){if(a.ib){var b=a.subscribe(this.cb,this,"dirty"),d=a.subscribe(this.hb,
this);return{H:a,c:function(){b.c();d.c()}}}return a.subscribe(this.va,this)},va:function(){var a=this,c=a[f],d=a.throttleEvaluation;d&&0<=d?(clearTimeout(c.wa),c.wa=b.a.setTimeout(function(){a.C()&&a.notifySubscribers(c.o)},d)):a.O?a.O():a.C()&&a.notifySubscribers(c.o)},C:function(){var a=this[f],b=a.ua;if(!a.$&&!a.u){if(b&&b()){if(!a.Ea){this.c();return}}else a.Ea=!1;a.$=!0;try{return this.Va()}finally{a.$=!1}}},Va:function(){var a=this[f],c,d=a.aa?n:!a.m,e={Qa:this,U:a.f,ga:a.m};b.B.ra({Oa:e,da:x,
l:this,ka:d});a.f={};a.m=0;e=this.Ua(a,e);this.ja(a.o,e)&&(c=!0,a.g||this.notifySubscribers(a.o,"beforeChange"),a.o=e,a.g&&this.Fa());d&&this.notifySubscribers(a.o,"awake");a.m||this.c();return c},Ua:function(a,c){try{var d=a.gb;return a.ha?d.call(a.ha):d()}finally{b.B.end(),c.ga&&!a.g&&b.a.D(c.U,w),a.v=!1}},i:function(){var a=this[f];(a.v&&!a.m||a.g&&this.Z())&&this.C();return a.o},za:function(a){b.s.fn.za.call(this,a);this.O=function(){this.la(this[f].o);this[f].v=!0;this.ma(this)}},c:function(){var a=
this[f];!a.g&&a.f&&b.a.D(a.f,function(a,b){b.c&&b.c()});a.f=null;a.m=0;a.u=!0;a.v=!1;a.g=!1;a.Ta=null}},y={M:function(a){var c=this,d=c[f];if(!d.u&&d.g&&"change"==a){d.g=!1;if(d.v||c.Z())d.f=null,d.m=0,d.v=!0,c.C();else{var e=[];b.a.D(d.f,function(a,b){e[b.P]=a});b.a.T(e,function(a,b){var e=d.f[a],f=c.Ca(e.H);f.P=b;f.L=e.L;d.f[a]=f})}d.u||c.notifySubscribers(d.o,"awake")}},S:function(a){var c=this[f];c.u||"change"!=a||this.Y("change")||(b.a.D(c.f,function(a,b){b.c&&(c.f[a]={H:b.H,P:b.P,L:b.L},b.c())}),
c.g=!0,this.notifySubscribers(n,"asleep"))},W:function(){var a=this[f];a.g&&(a.v||this.Z())&&this.C();return b.s.fn.W.call(this)}},z={M:function(a){"change"!=a&&"beforeChange"!=a||this.i()}};b.a.I&&b.a.setPrototypeOf(m,b.s.fn);l=b.w.Ha;b.l[l]=b.w;m[l]=b.l;b.ab=function(a){return b.X(a,b.l)};b.bb=function(a){return b.X(a,b.l)&&a[f]&&a[f].aa};b.b("computed",b.l);b.b("dependentObservable",b.l);b.b("isComputed",b.ab);b.b("isPureComputed",b.bb);b.b("computed.fn",m);b.h(m,"peek",m.i);b.h(m,"dispose",m.c);
b.h(m,"isActive",m.$a);b.h(m,"getDependenciesCount",m.V);b.eb=function(a,c){if("function"===typeof a)return b.l(a,c,{pure:!0});a=b.a.extend({},a);a.pure=!0;return b.l(a,c)};b.b("pureComputed",b.eb)})})();})();
